<!DOCTYPE html>
<html dir="ltr" lang="en-GB">
	<head>
		<title>XBee Master - Network settings</title>
		<link rel="stylesheet" href="/style.css" />
	</head>
	<body>
		{{file:header.inc}}
		<form action="/" method="POST" class="mapping">
			<script>

mapping = [{{map:0}}, {{map:1}}, {{map:2}}, {{map:3}}, {{map:4}}, {{map:5}}, {{map:6}}, {{map:7}},
{{map:8}}, {{map:9}}, {{map:10}}, {{map:11}}, {{map:12}}, {{map:13}}, {{map:14}}, {{map:15}},
{{map:16}}, {{map:17}}, {{map:18}}, {{map:19}}, {{map:20}}, {{map:21}}, {{map:22}}, {{map:23}},
{{map:24}}, {{map:25}}, {{map:26}}, {{map:27}}, {{map:28}}, {{map:29}}, {{map:30}}, {{map:31}},
{{map:32}}, {{map:33}}, {{map:34}}, {{map:35}}, {{map:36}}, {{map:37}}, {{map:38}}, {{map:39}},
{{map:40}}, {{map:41}}, {{map:42}}, {{map:43}}, {{map:44}}, {{map:45}}, {{map:46}}, {{map:47}},
{{map:48}}, {{map:49}}, {{map:50}}, {{map:51}}, {{map:52}}, {{map:53}}, {{map:54}}, {{map:55}},
{{map:56}}, {{map:57}}, {{map:58}}, {{map:59}}, {{map:60}}, {{map:61}}, {{map:62}}, {{map:63}}];

names = ["NONE", "{{name:1}}", "{{name:2}}", "{{name:3}}", "{{name:4}}", "{{name:5}}", "{{name:6}}", "{{name:7}}", "{{name:8}}"];

				for (i = 1; i <= 64; i++) {
					k = i == 64 ? 0 : i;
					document.write("<span>" + i + "<select onchange='update(this)' id='" + k + "' name='map" + k + "'>");

					for (j = 0; j < 9; j++) {
						document.write("<option value='" + j + "'" + (mapping[k] == j ? " selected" : "") + ">" + names[j] + "</option>");
					}

					document.write("</select></span>");
				}
				function update(e) {
					var xmlhttp = new XMLHttpRequest();
					xmlhttp.open("POST", "/", true);
					xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
					xmlhttp.send("map" + e.id + "=" + e.value);
				}
			</script>
		</form>
	</body>
</html>